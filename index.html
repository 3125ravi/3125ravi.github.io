<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- Primary Meta Tags -->
    <title>eTanav | Interstellar Stress Relief & Solar Journey</title>
    <meta name="title" content="eTanav | Interstellar Stress Relief & Solar Journey">
    <meta name="description" content="Embark on a calming planetary expedition through the solar system. eTanav is a zen-based stress relief experience designed to improve mental well-being through interactive flow state mechanics.">
    <meta name="keywords" content="eTanav, stress relief, zen game, solar system journey, mental health app, relaxation experience, interactive flow, meditation game">
    <meta name="author" content="eTanav Team">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://etanav.expedition.com/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://etanav.expedition.com/">
    <meta property="og:title" content="eTanav | Interstellar Stress Relief & Solar Journey">
    <meta property="og:description" content="A unique interactive journey through the planets designed to help you reach a state of zen and reduce daily stress.">
    <meta property="og:image" content="image_e5efe3.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://etanav.expedition.com/">
    <meta property="twitter:title" content="eTanav | Interstellar Stress Relief & Solar Journey">
    <meta property="twitter:description" content="Relieve stress through a planetary expedition. Experience the calming flow of eTanav.">
    <meta property="twitter:image" content="image_e5efe3.jpg">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html { 
            margin: 0; 
            padding: 0; 
            width: 100%; 
            height: 100%; 
            overflow: hidden; 
            background-color: #080a12;
            user-select: none;
            -webkit-user-select: none;
            touch-action: none;
            font-family: 'Inter', sans-serif;
        }
        canvas { 
            display: block; 
        }
        .tabular-nums {
            font-variant-numeric: tabular-nums;
        }
        #onboarding {
            background: radial-gradient(circle at center, #1a1c2c 0%, #080a12 100%);
        }
        @keyframes notify-fade {
            0% { opacity: 0; transform: translateY(20px); scale: 0.9; }
            15% { opacity: 1; transform: translateY(0px); scale: 1; }
            85% { opacity: 1; transform: translateY(0px); scale: 1; }
            100% { opacity: 0; transform: translateY(-20px); scale: 0.9; }
        }
        .animate-notify {
            animation: notify-fade 4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        }
        .logo-glow {
            filter: drop-shadow(0 0 15px rgba(34, 211, 238, 0.4));
        }
    </style>
</head>
<body>

    <!-- Onboarding Screen -->
    <div id="onboarding" class="fixed inset-0 z-50 flex flex-col items-center justify-center p-6 text-center">
        <!-- Integrated Logo -->
        <img src="image_e5efe3.jpg" alt="eTanav Logo" class="w-32 h-32 mb-6 rounded-full logo-glow object-cover border-2 border-cyan-400/30">
        
        <h1 class="text-cyan-400 text-5xl font-extralight tracking-[0.3em] mb-2">eTanav</h1>
        <p class="text-cyan-200/40 text-sm tracking-widest mb-12 uppercase">Interstellar Stress Relief</p>
        
        <div class="w-full max-w-xs space-y-4">
            <input type="text" id="name-input" placeholder="Enter your name" 
                class="w-full bg-white/5 border border-white/10 rounded-xl px-6 py-4 text-white text-center focus:outline-none focus:border-cyan-400/50 transition-all">
            <button id="start-btn" 
                class="w-full bg-cyan-500 text-white rounded-xl py-4 font-bold tracking-widest hover:bg-cyan-400 transition-all uppercase text-sm shadow-lg shadow-cyan-900/20">
                Begin Expedition
            </button>
        </div>
    </div>

    <!-- Notification Overlay -->
    <div id="notification-container" class="fixed top-32 left-0 w-full flex flex-col items-center gap-4 pointer-events-none z-40"></div>

    <!-- HUD -->
    <div id="hud" class="absolute top-8 left-0 w-full flex justify-between px-8 pointer-events-none z-10 font-sans opacity-0 transition-opacity duration-1000">
        <div class="flex flex-col">
            <div class="flex items-center gap-3 mb-1">
                <img src="image_e5efe3.jpg" alt="Logo" class="w-8 h-8 rounded-full border border-cyan-400/50 object-cover">
                <span class="text-cyan-400 font-bold tracking-tighter text-xl">eTanav</span>
                <span class="text-white/20 text-[10px] uppercase tracking-widest">|</span>
                <span id="user-greeting" class="text-white/40 text-[10px] uppercase tracking-widest">Traveler</span>
            </div>
            <span class="text-cyan-500/50 text-[10px] uppercase tracking-[0.2em] font-bold ml-11">Zen Energy</span>
            <span id="lumen-display" class="text-white text-4xl font-extralight tabular-nums ml-11">0</span>
        </div>
        <div class="flex flex-col items-end">
            <span id="planet-label" class="text-cyan-500/50 text-[10px] uppercase tracking-[0.2em] font-bold">Destination: Mercury</span>
            <span id="multiplier-display" class="text-cyan-300 text-4xl font-extralight">x1.0</span>
            <div class="w-32 h-1 bg-white/10 mt-2 rounded-full overflow-hidden">
                <div id="multiplier-bar" class="h-full bg-cyan-400 shadow-[0_0_10px_#22d3ee] transition-all duration-500" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <canvas id="gameCanvas"></canvas>

    <!-- Progress & Controls -->
    <div id="footer-ui" class="absolute bottom-10 left-0 w-full flex flex-col items-center pointer-events-none font-sans opacity-0 transition-opacity duration-1000">
        <div id="stage-display" class="text-white/20 text-[10px] uppercase tracking-[0.4em] mb-2 font-bold tabular-nums">Mercury Expedition</div>
        <div class="w-48 h-0.5 bg-white/5 rounded-full mb-2 overflow-hidden">
             <div id="stage-bar" class="h-full bg-white/20 transition-all duration-1000" style="width: 0%"></div>
        </div>
        <p class="text-cyan-200/40 text-[9px] uppercase tracking-widest">Move steadily â€¢ Tap for Stress Buster</p>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        const PLANETS = [
            { name: "Mercury", color: "150, 150, 150", hue: 200 },
            { name: "Venus", color: "255, 190, 100", hue: 40 },
            { name: "Earth", color: "100, 150, 255", hue: 210 },
            { name: "Mars", color: "255, 100, 80", hue: 10 },
            { name: "Jupiter", color: "220, 180, 150", hue: 30 },
            { name: "Saturn", color: "240, 210, 140", hue: 45 },
            { name: "Uranus", color: "180, 230, 255", hue: 190 },
            { name: "Neptune", color: "80, 120, 255", hue: 225 },
            { name: "Pluto", color: "120, 120, 140", hue: 250 }
        ];

        const lumenEl = document.getElementById('lumen-display');
        const multEl = document.getElementById('multiplier-display');
        const multBar = document.getElementById('multiplier-bar');
        const stageEl = document.getElementById('stage-display');
        const stageBar = document.getElementById('stage-bar');
        const planetLabel = document.getElementById('planet-label');
        const onboarding = document.getElementById('onboarding');
        const nameInput = document.getElementById('name-input');
        const startBtn = document.getElementById('start-btn');
        const userGreeting = document.getElementById('user-greeting');
        const hud = document.getElementById('hud');
        const footerUi = document.getElementById('footer-ui');
        const notificationContainer = document.getElementById('notification-container');

        const state = {
            width: 0, height: 0,
            lumen: 0,
            highScore: parseInt(localStorage.getItem('eTanav_highScore')) || 0,
            level: 1,
            multiplier: 1,
            flowLevel: 0,
            particles: [],
            seeds: [],
            ripples: [],
            char: { x: 0, y: 0, angle: 0 },
            mouse: { x: 0, y: 0, px: 0, py: 0, active: false },
            isStarted: false,
            notifiedHighScore: false,
            startTime: 0,
            levelStartTime: 0
        };

        const savedName = localStorage.getItem('eTanav_userName');
        if (savedName) nameInput.value = savedName;

        startBtn.onclick = () => {
            const name = nameInput.value.trim() || "Traveler";
            localStorage.setItem('eTanav_userName', name);
            userGreeting.textContent = name;
            
            onboarding.style.opacity = '0';
            setTimeout(() => {
                onboarding.style.display = 'none';
                hud.style.opacity = '1';
                footerUi.style.opacity = '1';
                state.isStarted = true;
                state.startTime = Date.now();
                state.levelStartTime = Date.now();
                initGame();
            }, 1000);
        };

        function formatTime(ms) {
            const totalSeconds = Math.floor(ms / 1000);
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return minutes > 0 ? `${minutes}m ${seconds}s` : `${seconds}s`;
        }

        function showNotification(title, subtitle) {
            const div = document.createElement('div');
            div.className = "bg-white/10 border border-white/20 text-white p-6 rounded-2xl backdrop-blur-xl shadow-2xl animate-notify text-center min-w-[280px]";
            div.innerHTML = `
                <div class="text-cyan-400 text-[10px] uppercase tracking-[0.3em] font-bold mb-1">${title}</div>
                <div class="text-lg font-light tracking-wide">${subtitle}</div>
            `;
            notificationContainer.appendChild(div);
            setTimeout(() => div.remove(), 4500);
        }

        function initGame() {
            resize();
            state.char.x = window.innerWidth / 2;
            state.char.y = window.innerHeight / 2;
            for(let i=0; i<6; i++) state.seeds.push(createSeed());
            
            window.addEventListener('resize', resize);
            window.addEventListener('pointerdown', handlePointerDown);
            window.addEventListener('pointermove', handlePointerMove);
            window.addEventListener('pointerup', () => state.mouse.active = false);

            requestAnimationFrame(animate);
        }

        function resize() {
            state.width = canvas.width = window.innerWidth;
            state.height = canvas.height = window.innerHeight;
        }

        function createSeed() {
            return {
                x: Math.random() * (state.width || window.innerWidth),
                y: Math.random() * (state.height || window.innerHeight),
                r: Math.random() * 3 + 2,
                pulse: Math.random() * Math.PI * 2
            };
        }

        function handlePointerDown(e) {
            if (!state.isStarted) return;
            state.mouse.active = true;
            state.mouse.x = e.clientX;
            state.mouse.y = e.clientY;
            state.ripples.push({ x: e.clientX, y: e.clientY, r: 0, a: 1 });
        }

        function handlePointerMove(e) {
            state.mouse.x = e.clientX;
            state.mouse.y = e.clientY;
        }

        function collectSeed(index, seed, fromRipple) {
            const gain = Math.floor((fromRipple ? 8 : 20) * (1 + state.flowLevel * 2));
            state.lumen += gain;
            
            lumenEl.textContent = state.lumen.toLocaleString();
            
            if (state.lumen > state.highScore && state.highScore > 0 && !state.notifiedHighScore) {
                showNotification("Achievement", "New Personal Best Reached!");
                state.notifiedHighScore = true;
            }
            
            if (state.lumen > state.highScore) {
                state.highScore = state.lumen;
                localStorage.setItem('eTanav_highScore', state.highScore);
            }

            const nextThreshold = state.level * 1000;
            if (state.lumen >= nextThreshold) {
                const timeTaken = formatTime(Date.now() - state.levelStartTime);
                const oldPlanet = PLANETS[(state.level - 1) % PLANETS.length].name;
                
                state.level++;
                state.levelStartTime = Date.now();
                
                const newPlanetIdx = (state.level - 1) % PLANETS.length;
                const newPlanet = PLANETS[newPlanetIdx];
                
                stageEl.textContent = `${newPlanet.name} Expedition`;
                planetLabel.textContent = `Destination: ${newPlanet.name}`;
                
                showNotification(
                    `Congratulations ${userGreeting.textContent}!`, 
                    `Reached ${newPlanet.name} from ${oldPlanet} in ${timeTaken}`
                );
            }
            
            const progress = (state.lumen % 1000) / 10;
            stageBar.style.width = `${progress}%`;

            state.seeds[index] = createSeed();
            for(let i=0; i<8; i++) {
                state.particles.push({
                    x: seed.x, y: seed.y,
                    vx: (Math.random()-0.5)*4, vy: (Math.random()-0.5)*4,
                    life: 1, c: '255, 250, 200'
                });
            }
        }

        function animate() {
            if (!state.isStarted) return;
            const { width, height, mouse, char, level } = state;
            const currentPlanet = PLANETS[(level - 1) % PLANETS.length];

            ctx.fillStyle = `rgba(${currentPlanet.color}, 0.05)`;
            ctx.fillRect(0, 0, width, height);
            ctx.fillStyle = 'rgba(8, 10, 18, 0.15)';
            ctx.fillRect(0, 0, width, height);

            const dx = mouse.x - char.x;
            const dy = mouse.y - char.y;
            char.x += dx * 0.08;
            char.y += dy * 0.08;
            char.angle = Math.atan2(dy, dx);

            if (mouse.active) {
                const dist = Math.hypot(mouse.x - mouse.px, mouse.y - mouse.py);
                if (dist > 1 && dist < 15) {
                    state.flowLevel = Math.min(state.flowLevel + 0.005, 1);
                } else {
                    state.flowLevel = Math.max(state.flowLevel - 0.01, 0);
                }
            } else {
                state.flowLevel = Math.max(state.flowLevel - 0.005, 0);
            }

            const multValue = 1 + (state.flowLevel * 2);
            multEl.textContent = `x${multValue.toFixed(1)}`;
            multBar.style.width = `${(multValue - 1) / 2 * 100}%`;

            state.ripples.forEach((r) => {
                r.r += 6; r.a -= 0.02;
                ctx.beginPath();
                ctx.strokeStyle = `rgba(100, 255, 255, ${r.a})`;
                ctx.lineWidth = 2;
                ctx.arc(r.x, r.y, r.r, 0, Math.PI * 2);
                ctx.stroke();

                state.seeds.forEach((seed, idx) => {
                    const sd = Math.hypot(seed.x - r.x, seed.y - r.y);
                    if (Math.abs(sd - r.r) < 15) collectSeed(idx, seed, true);
                });
            });
            state.ripples = state.ripples.filter(r => r.a > 0);

            state.seeds.forEach((seed, index) => {
                seed.pulse += 0.04;
                const sSize = seed.r + Math.sin(seed.pulse) * 2;
                ctx.beginPath();
                const g = ctx.createRadialGradient(seed.x, seed.y, 0, seed.x, seed.y, sSize * 4);
                g.addColorStop(0, `rgba(${currentPlanet.color}, 0.8)`);
                g.addColorStop(1, `rgba(${currentPlanet.color}, 0)`);
                ctx.fillStyle = g;
                ctx.arc(seed.x, seed.y, sSize * 4, 0, Math.PI * 2);
                ctx.fill();
                const d = Math.hypot(seed.x - char.x, seed.y - char.y);
                if (d < 45) collectSeed(index, seed, false);
            });

            state.particles.forEach(p => {
                p.x += p.vx; p.y += p.vy; p.life -= 0.02;
                ctx.fillStyle = `rgba(${p.c}, ${p.life})`;
                ctx.fillRect(p.x, p.y, 2, 2);
            });
            state.particles = state.particles.filter(p => p.life > 0);

            const time = Date.now() * 0.005;
            ctx.save();
            ctx.translate(char.x, char.y);
            ctx.rotate(char.angle);
            for(let i=0; i<3; i++) {
                const ox = -i * 10;
                const oy = Math.sin(time + i) * 5;
                const opacity = 0.6 - (i * 0.2);
                ctx.beginPath();
                ctx.fillStyle = `hsla(${currentPlanet.hue + state.flowLevel * 30}, 100%, 70%, ${opacity})`;
                ctx.arc(ox, oy, 12 - i*3, 0, Math.PI * 2);
                ctx.fill();
            }
            ctx.fillStyle = "white"; ctx.beginPath();
            ctx.arc(5, -4, 2, 0, Math.PI * 2); ctx.arc(5, 4, 2, 0, Math.PI * 2);
            ctx.fill(); ctx.restore();

            state.mouse.px = mouse.x; state.mouse.py = mouse.y;
            requestAnimationFrame(animate);
        }
    </script>
</body>
</html>
